<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE AUTHENTIC TISTA TOURISM VILLAGE TREKKING</title>
    <link href="form.css" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Sora' rel='stylesheet'>
</head>
<body>

<header>
    <h1>Welcome to Tista Tourism Village</h1>
</header>

<div class="container">
    <h2>THE AUTHENTIC TISTA TOURISM VILLAGE TREKKING</h2>

    <form id="myForm" action="https://docs.google.com/forms/u/0/d/e/1FAIpQLSfHiyv4zyQV_Z4U-8v9L84LTpncoaGzn8xnRH15eqYlG4zOWw/formResponse">
        <label for="name">Nama:</label>
        <input type="text" id="name" name="entry.2125224297" required><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="entry.838223228" required><br>

        <!-- Pre-filled Plan Name -->
        <input type="hidden" id="plan" name="entry.1043571882" value="THE AUTHENTIC TISTA TOURISM VILLAGE TREKKING">

        <label for="numPeople">Number of People:</label>
        <input type="number" id="numPeople" name="entry.1339608663" min="1" value="1" required><br>

        <label for="totalPrice">Total Price:</label>
        <span id="totalPrice">IDR560,000</span><br>

        <!-- Add more form fields as needed -->

        <button type="submit" onclick="submitForm()">Submit</button>
    </form>

    <div id="response"></div>
</div>

<footer>
    <p>&copy; 2023 KKN PPM XXVII UNUD. All rights reserved.</p>
</footer>

<script>
function calculateTotal() {
    const planPrice = 560000; // Price per person
    const numPeople = parseInt(document.getElementById("numPeople").value, 10);

    if (!isNaN(numPeople) && numPeople > 0) {
        const totalPrice = numPeople * planPrice;
        document.getElementById("totalPrice").textContent = `IDR${totalPrice.toLocaleString()}`;
    } else {
        document.getElementById("totalPrice").textContent = "IDR560,000";
    }
}

function submitForm() {
    const form = document.getElementById("myForm");
    const responseDiv = document.getElementById("response");

    const formData = new FormData(form);

    fetch("https://docs.google.com/forms/u/0/d/e/1FAIpQLSfHiyv4zyQV_Z4U-8v9L84LTpncoaGzn8xnRH15eqYlG4zOWw/formResponse", {
        method: "POST",
        body: formData
    })
    .then(response => {
        if (response.ok) {
            return response.text(); // Return the response text for further handling
        } else {
            throw new Error(`Form submission failed. Status: ${response.status}`);
        }
    })
    .then(data => {
        // Process the response data if needed
        responseDiv.innerHTML = "<p>Form submitted successfully!</p>";
        form.reset();
        document.getElementById("totalPrice").textContent = "IDR560,000"; // Reset total price
    })

}
document.getElementById("numPeople").addEventListener("input", calculateTotal);
</script>

</body>
</html>
